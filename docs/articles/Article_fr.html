<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L'analyse descriptive des associations entre variables avec descriptio • descriptio</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="L'analyse descriptive des associations entre variables avec descriptio">
<meta property="og:description" content="descriptio">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">descriptio</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Article_eng.html">Descriptive analysis of statistical associations with descriptio</a>
    </li>
    <li>
      <a href="../articles/Article_fr.html">L'analyse descriptive des associations entre variables avec descriptio</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nicolas-robette/descriptio/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>L’analyse descriptive des associations entre
variables avec descriptio</h1>
                        <h4 data-toc-skip class="author">Nicolas
Robette</h4>
            
            <h4 data-toc-skip class="date">2023-12-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/nicolas-robette/descriptio/blob/HEAD/vignettes/articles/Article_fr.Rmd" class="external-link"><code>vignettes/articles/Article_fr.Rmd</code></a></small>
      <div class="hidden name"><code>Article_fr.Rmd</code></div>

    </div>

    
    
<p> </p>
<p>Le package <code>descriptio</code> fournit des fonctions dédiées à la
description des associations statistiques entre variables. Elles
s’appuient sur des mesures de taille d’effet (dites aussi mesures
d’association).</p>
<p>Les principales mesures sont construites à partir de concepts simples
(corrélations, proportion de variance expliquée), elles sont bornées
(entre -1 et 1 ou entre 0 et 1) et ne sont pas sensibles aux
effectifs.</p>
<p>Les principales mesures d’associations <em>globales</em> du package
sont les suivantes.</p>
<ul>
<li><p>Pour la relation entre deux variables catégorielles : le
<strong>V de Cramér</strong> qui, contrairement au khi-deux par exemple,
n’est pas sensible aux effectifs ou au nombre de modalités des
variables. Il varie entre 0 (absence d’association) et 1 (association
parfaite). Mis au carré, il peut être interprété comme la part de
variation partagée entre deux variables.</p></li>
<li><p>Pour la relation entre deux variables continues : les
<strong>corrélations de rang</strong> de Kendall (<em>tau</em>) ou de
Spearman (<em>rho</em>), qui détectent les relations <em>monotones</em>
entre variables, et non uniquement linéaires comme c’est le cas de la
corrélation linéaire de Pearson. Elles varient entre -1 et 1. Une valeur
absolue de 0 indique une absence d’association, une valeur absolue de 1
un association parfaite. Le signe indique le sens de la
relation.</p></li>
<li><p>Pour la relation entre une variable catégorielle et une variable
continue : le carré du <strong>rapport de corrélation</strong>
(<em>eta²</em>). Il exprime la part de la variance de la variable
continue “expliquée” par la variable catégorielle et varie entre 0 et
1.</p></li>
</ul>
<p>En plus des mesures d’associations globales, on utilise aussi des
mesures d’associations <em>locales</em>, c’est-à-dire au niveau des
modalités des variables.</p>
<ul>
<li><p>Pour la relation entre deux variables catégorielles: le
<strong>coefficient phi</strong> mesure l’attraction ou la répulsion
dans une case d’un tableau de contingence. Il varie entre -1 et 1. Une
valeur absolue de 0 indique une absence d’association, une valeur
absolue de 1 un association parfaite. Il y a attraction si le signe est
positif, répulsion si le signe est négatif. Mis au carré, phi
s’interprète comme la proportion de variance partagée par les deux
variables binaires associées aux modalités étudiées. Contrairement à la
<em>valeur-test</em>, phi n’est pas sensible à la taille de
l’échantillon.</p></li>
<li><p>Pour la relation entre une variable catégorielle et une variable
continue: la <strong>corrélation bisériale ponctuelle</strong> mesure
l’amplitude de l’écart entre les moyennes de la variable continue selon
que l’on appartient ou non à la modalité étudiée. Elle varie entre -1 et
1. Une valeur absolue de 0 indique une absence d’association, une valeur
absolue de 1 un association parfaite. Le signe indique le sens de la
relation. Mise au carré, la corrélation bisériale ponctuelle peut
s’interpréter comme la proportion de variance de la variable continue
“expliquée” par l’appartenance à la modalité de la variable
catégorielle.</p></li>
</ul>
<p>A noter que si l’on code les modalités des variables catégorielles
sous la forme de variables binaires de valeurs 0 ou 1, le coefficient
phi et la corrélation bisériale ponctuelle sont équivalentes au
coefficient de corrélation de Pearson.</p>
<p>Pour plus de détails sur ces mesures de taille d’effet, voir :
Rakotomalala R., <a href="http://eric.univ-lyon2.fr/~ricco/cours/slides/effect_size.pdf" class="external-link">« Comprendre
la taille d’effet (effect size) »</a><br>
 </p>
<p>Dans certaines fonctions de <code>descriptio</code>, les mesures
d’association peuvent être complétées par des <strong>tests de
permutation</strong>, qui relèvent de l’<em>inférence combinatoire</em>
et constituent une alternative <em>non paramétrique</em> aux tests de
signification de l’inférence fréquentiste. Un test de permutation se
déroule en plusieurs étapes.</p>
<ol style="list-style-type: decimal">
<li><p>On calcule une mesure d’association entre les deux variables
étudiées.</p></li>
<li><p>On calcule la même mesure d’association à partir d’une version
“permutée” des données, c’est-à-dire en “mélangeant” aléatoirement les
valeurs de l’une des variables, afin de “casser” la relation entre les
variables.</p></li>
<li><p>On répète l’étape 2 un grand nombre de fois. On obtient ainsi une
distribution <em>empirique</em> (par opposition avec l’utilisation d’une
distribution <em>théorique</em> par l’inférence fréquentiste) de la
mesure d’association sous l’hypothèse H0 d’absence de relation entre les
deux variables.</p></li>
<li><p>On compare le résultat de l’étape 1 avec la distribution obtenue
en 3. La <em>p-value</em> du test de permutation est la proportion de
valeurs de la distribution H0 qui sont plus extrêmes que la mesure
d’association observée en 1.</p></li>
</ol>
<p>Si on réalise l’ensemble des permutations possibles, le test de
permutation est dit “exact”. Dans la pratique, le temps de calcul
nécessaire est souvent trop important et on ne réalise qu’une partie des
permutations possibles, aboutissant à un test dit “approximatif”. Dans
les exemples qui suivent, le nombre de permutations est fixé à 100 pour
réduire le temps de calcul, mais il est conseillé d’augmenter ce nombre
pour obtenir des résultats plus précis et stables (par exemple
<code>nperm</code>=1000).<br>
 </p>
<p>Pour illustrer les fonctions d’analyse des associations statistiques
de <code>descriptio</code>, nous utilisons des données sur le cinéma. Il
s’agit d’un échantillon de 1000 films sortis en France dans les années
2000, pour lesquels on connaît le budget, le genre, le pays d’origine,
la labellisation “art et essai”, la sélection en festival (Cannes,
Berlin ou Venise), la note moyenne des critiques intellectuelles
(d’après Allociné) et le nombre d’entrées en salles. Certaines de ces
variables sont continues, d’autres catégorielles.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(descriptio)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">data</span>(Movies)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">str</span>(Movies)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="st">'data.frame'</span><span class="sc">:</span>   <span class="dv">1000</span> obs. of  <span class="dv">7</span> variables<span class="sc">:</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a> <span class="er">$</span> Budget   <span class="sc">:</span> num  <span class="fl">3.10e+07</span> <span class="fl">4.88e+06</span> <span class="fl">3.50e+06</span> <span class="fl">1.63e+08</span> <span class="fl">2.17e+07</span> ...</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a> <span class="sc">$</span> Genre    <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">9</span> levels <span class="st">"Action"</span>,<span class="st">"Animation"</span>,..<span class="sc">:</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">7</span> <span class="dv">1</span> <span class="dv">7</span> <span class="dv">5</span> <span class="dv">1</span> <span class="dv">7</span> <span class="dv">5</span> <span class="dv">7</span> ...</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a> <span class="sc">$</span> Country  <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">4</span> levels <span class="st">"Europe"</span>,<span class="st">"France"</span>,..<span class="sc">:</span> <span class="dv">4</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">2</span> <span class="dv">4</span> ...</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a> <span class="sc">$</span> ArtHouse <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">2</span> levels <span class="st">"No"</span>,<span class="st">"Yes"</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a> <span class="sc">$</span> Festival <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">2</span> levels <span class="st">"No"</span>,<span class="st">"Yes"</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a> <span class="sc">$</span> Critics  <span class="sc">:</span> num  <span class="dv">3</span> <span class="dv">1</span> <span class="fl">3.75</span> <span class="fl">3.75</span> <span class="fl">3.6</span> <span class="fl">2.75</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">3</span> ...</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a> <span class="sc">$</span> BoxOffice<span class="sc">:</span> num  <span class="dv">1013509</span> <span class="dv">24241</span> <span class="dv">39376</span> <span class="dv">6996996</span> <span class="dv">493416</span> ...</span></code></pre></div>
<hr>
<div class="section level2">
<h2 id="relations-entre-deux-variables">Relations entre deux variables<a class="anchor" aria-label="anchor" href="#relations-entre-deux-variables"></a>
</h2>
<p>Le package propose plusieurs fonctions pour étudier la relation
statistique entre deux variables, selon la nature (catégorielle ou
continue) des ces variables.</p>
<div class="section level4">
<h4 id="deux-variables-catégorielles">Deux variables catégorielles<a class="anchor" aria-label="anchor" href="#deux-variables-cat%C3%A9gorielles"></a>
</h4>
<p>La fonction <code>assoc_twocat</code> calcule :</p>
<ul>
<li>le tableau de contingence (effectifs)</li>
<li>les pourcentages, les pourcentages-lignes et les
pourcentages-colonnes</li>
<li>les effectifs théoriques, c’est-à-dire en situation
d’indépendance</li>
<li>le khi-deux</li>
<li>le V de Cramér et la p-value du test de permutation
correspondant</li>
<li>le tau de Goodman &amp; Kruskal (mesure d’association
asymétrique)</li>
<li>les coefficients phi et les p-values des tests de permutation
correspondants</li>
<li>les résidus de Pearson, ajustés ou non</li>
<li>les odds-ratios des cases du tableau de contingence</li>
<li>les PEM (Pourcentages de l’Ecart Maximal à l’Indépendance, voir
Cibois 1993) globaux et locaux</li>
<li>un tableau récapitulatif de ces résultats</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">assoc.twocat</span>(Movies<span class="sc">$</span>Country, Movies<span class="sc">$</span>ArtHouse, <span class="at">nperm=</span><span class="dv">100</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>res<span class="sc">$</span>tables</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="sc">$</span>freq</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>         No  Yes  Sum</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>Europe   <span class="dv">39</span>   <span class="dv">33</span>   <span class="dv">72</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>France  <span class="dv">212</span>  <span class="dv">393</span>  <span class="dv">605</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>Other     <span class="dv">6</span>   <span class="dv">20</span>   <span class="dv">26</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>USA     <span class="dv">257</span>   <span class="dv">40</span>  <span class="dv">297</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>Sum     <span class="dv">514</span>  <span class="dv">486</span> <span class="dv">1000</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="sc">$</span>prop</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>          No   Yes   Sum</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>Europe   <span class="fl">3.9</span>   <span class="fl">3.3</span>   <span class="fl">7.2</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>France  <span class="fl">21.2</span>  <span class="fl">39.3</span>  <span class="fl">60.5</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>Other    <span class="fl">0.6</span>   <span class="fl">2.0</span>   <span class="fl">2.6</span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>USA     <span class="fl">25.7</span>   <span class="fl">4.0</span>  <span class="fl">29.7</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a>Sum     <span class="fl">51.4</span>  <span class="fl">48.6</span> <span class="fl">100.0</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="sc">$</span>rprop</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a>             No      Yes Sum</span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>Europe <span class="fl">54.16667</span> <span class="fl">45.83333</span> <span class="dv">100</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a>France <span class="fl">35.04132</span> <span class="fl">64.95868</span> <span class="dv">100</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>Other  <span class="fl">23.07692</span> <span class="fl">76.92308</span> <span class="dv">100</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a>USA    <span class="fl">86.53199</span> <span class="fl">13.46801</span> <span class="dv">100</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>Sum    <span class="fl">51.40000</span> <span class="fl">48.60000</span> <span class="dv">100</span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a><span class="sc">$</span>cprop</span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a>               No        Yes   Sum</span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a>Europe   <span class="fl">7.587549</span>   <span class="fl">6.790123</span>   <span class="fl">7.2</span></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a>France  <span class="fl">41.245136</span>  <span class="fl">80.864198</span>  <span class="fl">60.5</span></span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a>Other    <span class="fl">1.167315</span>   <span class="fl">4.115226</span>   <span class="fl">2.6</span></span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a>USA     <span class="fl">50.000000</span>   <span class="fl">8.230453</span>  <span class="fl">29.7</span></span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a>Sum    <span class="fl">100.000000</span> <span class="fl">100.000000</span> <span class="fl">100.0</span></span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a></span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a><span class="sc">$</span>expected</span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a>            No     Yes</span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a>Europe  <span class="fl">37.008</span>  <span class="fl">34.992</span></span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a>France <span class="fl">310.970</span> <span class="fl">294.030</span></span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a>Other   <span class="fl">13.364</span>  <span class="fl">12.636</span></span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a>USA    <span class="fl">152.658</span> <span class="fl">144.342</span></span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a>res<span class="sc">$</span>global</span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a><span class="sc">$</span>chi.squared</span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">220.1263</span></span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a></span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a><span class="sc">$</span>cramer.v</span>
<span id="cb2-46"><a href="#cb2-46" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.4691762</span></span>
<span id="cb2-47"><a href="#cb2-47" tabindex="-1"></a></span>
<span id="cb2-48"><a href="#cb2-48" tabindex="-1"></a><span class="sc">$</span>permutation.pvalue</span>
<span id="cb2-49"><a href="#cb2-49" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb2-50"><a href="#cb2-50" tabindex="-1"></a></span>
<span id="cb2-51"><a href="#cb2-51" tabindex="-1"></a><span class="sc">$</span>global.pem</span>
<span id="cb2-52"><a href="#cb2-52" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">64.04814</span></span>
<span id="cb2-53"><a href="#cb2-53" tabindex="-1"></a></span>
<span id="cb2-54"><a href="#cb2-54" tabindex="-1"></a><span class="sc">$</span>GK.tau.xy</span>
<span id="cb2-55"><a href="#cb2-55" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.2201263</span></span>
<span id="cb2-56"><a href="#cb2-56" tabindex="-1"></a></span>
<span id="cb2-57"><a href="#cb2-57" tabindex="-1"></a><span class="sc">$</span>GK.tau.yx</span>
<span id="cb2-58"><a href="#cb2-58" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.1537807</span></span>
<span id="cb2-59"><a href="#cb2-59" tabindex="-1"></a>res<span class="sc">$</span>local</span>
<span id="cb2-60"><a href="#cb2-60" tabindex="-1"></a><span class="sc">$</span>std.residuals</span>
<span id="cb2-61"><a href="#cb2-61" tabindex="-1"></a>               No        Yes</span>
<span id="cb2-62"><a href="#cb2-62" tabindex="-1"></a>Europe  <span class="fl">0.3274474</span> <span class="sc">-</span><span class="fl">0.3367479</span></span>
<span id="cb2-63"><a href="#cb2-63" tabindex="-1"></a>France <span class="sc">-</span><span class="fl">5.6123445</span>  <span class="fl">5.7717531</span></span>
<span id="cb2-64"><a href="#cb2-64" tabindex="-1"></a>Other  <span class="sc">-</span><span class="fl">2.0143992</span>  <span class="fl">2.0716146</span></span>
<span id="cb2-65"><a href="#cb2-65" tabindex="-1"></a>USA     <span class="fl">8.4449945</span> <span class="sc">-</span><span class="fl">8.6848595</span></span>
<span id="cb2-66"><a href="#cb2-66" tabindex="-1"></a></span>
<span id="cb2-67"><a href="#cb2-67" tabindex="-1"></a><span class="sc">$</span>adj.residuals</span>
<span id="cb2-68"><a href="#cb2-68" tabindex="-1"></a>               No        Yes</span>
<span id="cb2-69"><a href="#cb2-69" tabindex="-1"></a>Europe   <span class="fl">0.487584</span>  <span class="sc">-</span><span class="fl">0.487584</span></span>
<span id="cb2-70"><a href="#cb2-70" tabindex="-1"></a>France <span class="sc">-</span><span class="fl">12.809366</span>  <span class="fl">12.809366</span></span>
<span id="cb2-71"><a href="#cb2-71" tabindex="-1"></a>Other   <span class="sc">-</span><span class="fl">2.927844</span>   <span class="fl">2.927844</span></span>
<span id="cb2-72"><a href="#cb2-72" tabindex="-1"></a>USA     <span class="fl">14.447862</span> <span class="sc">-</span><span class="fl">14.447862</span></span>
<span id="cb2-73"><a href="#cb2-73" tabindex="-1"></a></span>
<span id="cb2-74"><a href="#cb2-74" tabindex="-1"></a><span class="sc">$</span>adj.res.pval</span>
<span id="cb2-75"><a href="#cb2-75" tabindex="-1"></a>                No         Yes</span>
<span id="cb2-76"><a href="#cb2-76" tabindex="-1"></a>Europe <span class="fl">0.625844564</span> <span class="fl">0.625844564</span></span>
<span id="cb2-77"><a href="#cb2-77" tabindex="-1"></a>France <span class="fl">0.000000000</span> <span class="fl">0.000000000</span></span>
<span id="cb2-78"><a href="#cb2-78" tabindex="-1"></a>Other  <span class="fl">0.003413213</span> <span class="fl">0.003413213</span></span>
<span id="cb2-79"><a href="#cb2-79" tabindex="-1"></a>USA    <span class="fl">0.000000000</span> <span class="fl">0.000000000</span></span>
<span id="cb2-80"><a href="#cb2-80" tabindex="-1"></a></span>
<span id="cb2-81"><a href="#cb2-81" tabindex="-1"></a><span class="sc">$</span>odds.ratios</span>
<span id="cb2-82"><a href="#cb2-82" tabindex="-1"></a>               No        Yes</span>
<span id="cb2-83"><a href="#cb2-83" tabindex="-1"></a>Europe  <span class="fl">1.1270813</span>  <span class="fl">0.8872474</span></span>
<span id="cb2-84"><a href="#cb2-84" tabindex="-1"></a>France  <span class="fl">0.1661190</span>  <span class="fl">6.0197809</span></span>
<span id="cb2-85"><a href="#cb2-85" tabindex="-1"></a>Other   <span class="fl">0.2751969</span>  <span class="fl">3.6337625</span></span>
<span id="cb2-86"><a href="#cb2-86" tabindex="-1"></a>USA    <span class="fl">11.1500000</span>  <span class="fl">0.0896861</span></span>
<span id="cb2-87"><a href="#cb2-87" tabindex="-1"></a></span>
<span id="cb2-88"><a href="#cb2-88" tabindex="-1"></a><span class="sc">$</span>local.pem</span>
<span id="cb2-89"><a href="#cb2-89" tabindex="-1"></a>        y</span>
<span id="cb2-90"><a href="#cb2-90" tabindex="-1"></a>x               No       Yes</span>
<span id="cb2-91"><a href="#cb2-91" tabindex="-1"></a>  Europe   <span class="fl">5.69273</span>  <span class="sc">-</span><span class="fl">5.69273</span></span>
<span id="cb2-92"><a href="#cb2-92" tabindex="-1"></a>  France <span class="sc">-</span><span class="fl">51.55493</span>  <span class="fl">51.55493</span></span>
<span id="cb2-93"><a href="#cb2-93" tabindex="-1"></a>  Other  <span class="sc">-</span><span class="fl">55.10326</span>  <span class="fl">55.10326</span></span>
<span id="cb2-94"><a href="#cb2-94" tabindex="-1"></a>  USA     <span class="fl">72.28804</span> <span class="sc">-</span><span class="fl">72.28804</span></span>
<span id="cb2-95"><a href="#cb2-95" tabindex="-1"></a></span>
<span id="cb2-96"><a href="#cb2-96" tabindex="-1"></a><span class="sc">$</span>phi</span>
<span id="cb2-97"><a href="#cb2-97" tabindex="-1"></a>                No         Yes</span>
<span id="cb2-98"><a href="#cb2-98" tabindex="-1"></a>Europe  <span class="fl">0.01541876</span> <span class="sc">-</span><span class="fl">0.01541876</span></span>
<span id="cb2-99"><a href="#cb2-99" tabindex="-1"></a>France <span class="sc">-</span><span class="fl">0.40506773</span>  <span class="fl">0.40506773</span></span>
<span id="cb2-100"><a href="#cb2-100" tabindex="-1"></a>Other  <span class="sc">-</span><span class="fl">0.09258656</span>  <span class="fl">0.09258656</span></span>
<span id="cb2-101"><a href="#cb2-101" tabindex="-1"></a>USA     <span class="fl">0.45688150</span> <span class="sc">-</span><span class="fl">0.45688150</span></span>
<span id="cb2-102"><a href="#cb2-102" tabindex="-1"></a></span>
<span id="cb2-103"><a href="#cb2-103" tabindex="-1"></a><span class="sc">$</span>phi.perm.pval</span>
<span id="cb2-104"><a href="#cb2-104" tabindex="-1"></a>                 No          Yes</span>
<span id="cb2-105"><a href="#cb2-105" tabindex="-1"></a>Europe <span class="fl">2.693816e-01</span> <span class="fl">2.693816e-01</span></span>
<span id="cb2-106"><a href="#cb2-106" tabindex="-1"></a>France <span class="fl">2.628066e-37</span> <span class="fl">0.000000e+00</span></span>
<span id="cb2-107"><a href="#cb2-107" tabindex="-1"></a>Other  <span class="fl">9.272716e-04</span> <span class="fl">9.272716e-04</span></span>
<span id="cb2-108"><a href="#cb2-108" tabindex="-1"></a>USA    <span class="fl">0.000000e+00</span> <span class="fl">2.646462e-54</span></span>
<span id="cb2-109"><a href="#cb2-109" tabindex="-1"></a>res<span class="sc">$</span>gather</span>
<span id="cb2-110"><a href="#cb2-110" tabindex="-1"></a>  var.y  var.x freq  prop     rprop      cprop expected std.residuals adj.residuals         or       pem         phi    perm.pval freq.x freq.y prop.x prop.y</span>
<span id="cb2-111"><a href="#cb2-111" tabindex="-1"></a><span class="dv">1</span>    No Europe   <span class="dv">39</span> <span class="fl">0.039</span> <span class="fl">0.5416667</span> <span class="fl">0.07587549</span>   <span class="fl">37.008</span>     <span class="fl">0.3274474</span>      <span class="fl">0.487584</span>  <span class="fl">1.1270813</span>   <span class="fl">5.69273</span>  <span class="fl">0.01541876</span> <span class="fl">2.693816e-01</span>     <span class="dv">72</span>    <span class="dv">514</span>  <span class="fl">0.072</span>  <span class="fl">0.514</span></span>
<span id="cb2-112"><a href="#cb2-112" tabindex="-1"></a><span class="dv">2</span>    No France  <span class="dv">212</span> <span class="fl">0.212</span> <span class="fl">0.3504132</span> <span class="fl">0.41245136</span>  <span class="fl">310.970</span>    <span class="sc">-</span><span class="fl">5.6123445</span>    <span class="sc">-</span><span class="fl">12.809366</span>  <span class="fl">0.1661190</span> <span class="sc">-</span><span class="fl">51.55493</span> <span class="sc">-</span><span class="fl">0.40506773</span> <span class="fl">2.628066e-37</span>    <span class="dv">605</span>    <span class="dv">514</span>  <span class="fl">0.605</span>  <span class="fl">0.514</span></span>
<span id="cb2-113"><a href="#cb2-113" tabindex="-1"></a><span class="dv">3</span>    No  Other    <span class="dv">6</span> <span class="fl">0.006</span> <span class="fl">0.2307692</span> <span class="fl">0.01167315</span>   <span class="fl">13.364</span>    <span class="sc">-</span><span class="fl">2.0143992</span>     <span class="sc">-</span><span class="fl">2.927844</span>  <span class="fl">0.2751969</span> <span class="sc">-</span><span class="fl">55.10326</span> <span class="sc">-</span><span class="fl">0.09258656</span> <span class="fl">9.272716e-04</span>     <span class="dv">26</span>    <span class="dv">514</span>  <span class="fl">0.026</span>  <span class="fl">0.514</span></span>
<span id="cb2-114"><a href="#cb2-114" tabindex="-1"></a><span class="dv">4</span>    No    USA  <span class="dv">257</span> <span class="fl">0.257</span> <span class="fl">0.8653199</span> <span class="fl">0.50000000</span>  <span class="fl">152.658</span>     <span class="fl">8.4449945</span>     <span class="fl">14.447862</span> <span class="fl">11.1500000</span>  <span class="fl">72.28804</span>  <span class="fl">0.45688150</span> <span class="fl">0.000000e+00</span>    <span class="dv">297</span>    <span class="dv">514</span>  <span class="fl">0.297</span>  <span class="fl">0.514</span></span>
<span id="cb2-115"><a href="#cb2-115" tabindex="-1"></a> [ reached <span class="st">'max'</span> <span class="sc">/</span> <span class="fu">getOption</span>(<span class="st">"max.print"</span>) <span class="sc">--</span> omitted <span class="dv">4</span> rows ]</span></code></pre></div>
<p><br>
La fonction <code>ggassoc_crosstab</code> présente le tableau de
contingence sous forme graphique, avec des rectangles dont la surface
correspond aux effectifs et le gradient de couleurs aux
attractions/répulsions (à partir d’une des mesures d’association locale
proposées dans <code>assoc.twocat</code>, ici les coefficients phi). Le
label “art et essai” est nettement sur-représenté parmi les films
français et sous-représenté parmi les films étatsuniens.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggassoc_crosstab.html">ggassoc_crosstab</a></span><span class="op">(</span><span class="va">Movies</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Country</span>, y<span class="op">=</span><span class="va">ArtHouse</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggassoc_crosstab-1.png" width="700"></p>
<p>La fonction <code>ggassoc_phiplot</code> propose une autre manière de
représenter les attractions/répulsions. La largeur des rectangles
correspond aux effectifs de la variable x, leur hauteur aux associations
locales (par défaut, les coefficients phi). Les rectangles sont colorés
en noir lorsqu’il y a attraction, en blanc lorsqu’il y a répulsion.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggassoc_phiplot.html">ggassoc_phiplot</a></span><span class="op">(</span><span class="va">Movies</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Country</span>, y<span class="op">=</span><span class="va">ArtHouse</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggassoc_phiplot-1.png" width="700"></p>
<p>La fonction <code>ggassoc_bertin</code> est inspirée des principes de
sémiologie graphique de Jacques Bertin pour la représentation d’une
matrice de données et de l’outil <a href="https://paris-timemachine.huma-num.fr/amado/main.html" class="external-link">AMADO
Online</a>. La hauteur des barres correspond aux probabilités
conditionnelles de y étant donné x. Elles sont colorées en noir lorsque
les probabilités conditionnelles sont supérieures aux probabilités
marginales de y. La largeur des barres peut être ajustée de manière à
être proportionnelle aux probabilités marginales de x.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggassoc_bertin.html">ggassoc_bertin</a></span><span class="op">(</span><span class="va">Movies</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Country</span>, y<span class="op">=</span><span class="va">ArtHouse</span><span class="op">)</span>, prop.width <span class="op">=</span> <span class="cn">TRUE</span>, add.gray <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggassoc_bertin-1.png" width="700"></p>
<p>La fonction <code>ggassoc_assocplot</code> produit un “graphique
d’association” tel que proposé par Cohen (1980) et Friendly (1992). La
largeur des barres est proportionnelle à la racine carrée des effectifs
théoriques. La hauteur des barres et le gradient de couleur sont
proportionnels aux associations locales. Si ces associations locales
sont mesurées par les résidus de Pearson (choix par défaut), la surface
des barres est proportionnelle à la différence entre effectifs
théoriques et effectifs observés.</p>
<p>Lorsque le nombre de modalités des variables est élevé, comme ici
lorsqu’on croise le genre du film et son origine géographique, il peut
être utile des trier les lignes et/ou les colonnes de manière à ce que
celles qui se ressemblent soient proches.</p>
<p>On constate que les films d’action, d’animation, de science-fiction
et d’horreur sont sur-représentés parmi les films étatsuniens, et que
les documentaires, les drames et les comédies dramatiques sont
sur-représentés parmi les films français.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggassoc_assocplot.html">ggassoc_assocplot</a></span><span class="op">(</span><span class="va">Movies</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Country</span>, y<span class="op">=</span><span class="va">Genre</span><span class="op">)</span>, sort <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggassoc_assocplot-1.png" width="700"></p>
<p>La fonction <code>ggassoc_chiasmogram</code> dessine un
“chiasmogramme”, une représentation graphique proposée par Bozon et
Héran (1988). La largeur des rectangles est proportionnelle aux
probabilités marginales de la variable en colonne, leur hauteur est
proportionnelle aux probabilités marginales de la variable en ligne. La
surface des rectangles est donc proportionnelle aux effectifs
théoriques. Les rectangles sont colorés selon le degré d’association
locale (par défaut les coefficients phi).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggassoc_chiasmogram.html">ggassoc_chiasmogram</a></span><span class="op">(</span><span class="va">Movies</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Country</span>, y<span class="op">=</span><span class="va">Genre</span><span class="op">)</span>, sort <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggassoc_chiasmogram-1.png" width="700"></p>
<p>La fonction <code>ggassoc_marimekko</code> produit des graphiques
marimekko, dits aussi en mosaïque. La largeur des barres est
proportionnelle aux probabilités marginales de la variables x, leur
hauteur aux probabilités conditionnelles de la variable y étant donné
x.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggassoc_marimekko.html">ggassoc_marimekko</a></span><span class="op">(</span><span class="va">Movies</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Country</span>, y<span class="op">=</span><span class="va">Genre</span><span class="op">)</span>, sort <span class="op">=</span> <span class="st">"both"</span>, type <span class="op">=</span> <span class="st">"classic"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggassoc_marimekko1-1.png" width="700"></p>
<p>On peut choisir de colorer les barres selon le degré d’association
locale (ici les coefficients phi), comme proposé par Friendly
(1994).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggassoc_marimekko.html">ggassoc_marimekko</a></span><span class="op">(</span><span class="va">Movies</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Country</span>, y<span class="op">=</span><span class="va">Genre</span><span class="op">)</span>, sort <span class="op">=</span> <span class="st">"both"</span>, type <span class="op">=</span> <span class="st">"shades"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggassoc_marimekko2-1.png" width="700"></p>
<p>On peut également choisir de remplacer le gradient de couleurs par
des textures plus ou moins denses selon le degré d’association
locale.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggassoc_marimekko.html">ggassoc_marimekko</a></span><span class="op">(</span><span class="va">Movies</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Country</span>, y<span class="op">=</span><span class="va">Genre</span><span class="op">)</span>, sort <span class="op">=</span> <span class="st">"both"</span>, type <span class="op">=</span> <span class="st">"patterns"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggassoc_marimekko3-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="une-variable-catégorielle-et-une-variable-continue">Une variable catégorielle et une variable continue<a class="anchor" aria-label="anchor" href="#une-variable-cat%C3%A9gorielle-et-une-variable-continue"></a>
</h4>
<p>La fonction <code>assoc_catcont</code> calcule :</p>
<ul>
<li>le rapport de corrélation au carré (eta²) et la p-value du test de
permutation correspondant</li>
<li>les corrélations bisériales ponctuelles et les p-values des tests de
permutation correspondants</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">assoc.catcont</span>(Movies<span class="sc">$</span>Country, Movies<span class="sc">$</span>Critics, <span class="at">nperm=</span><span class="dv">100</span>)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="sc">$</span>summary</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>           mean        sd min       q1   median   q3      max       mad</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>Europe <span class="fl">2.886343</span> <span class="fl">0.7328983</span> <span class="fl">1.4</span> <span class="fl">2.458333</span> <span class="fl">3.000000</span> <span class="fl">3.40</span> <span class="fl">4.833333</span> <span class="fl">0.5000000</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>France <span class="fl">2.923361</span> <span class="fl">0.8469909</span> <span class="fl">1.0</span> <span class="fl">2.333333</span> <span class="fl">3.000000</span> <span class="fl">3.50</span> <span class="fl">5.000000</span> <span class="fl">0.6000000</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>Other  <span class="fl">3.041026</span> <span class="fl">0.8039995</span> <span class="fl">1.0</span> <span class="fl">2.425000</span> <span class="fl">3.208333</span> <span class="fl">3.65</span> <span class="fl">4.400000</span> <span class="fl">0.6000000</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>USA    <span class="fl">2.686700</span> <span class="fl">0.8601259</span> <span class="fl">1.0</span> <span class="fl">2.000000</span> <span class="fl">2.666667</span> <span class="fl">3.20</span> <span class="fl">5.000000</span> <span class="fl">0.6666667</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="sc">$</span>eta.squared</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.0169216</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="sc">$</span>permutation.pvalue</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">5.174048e-08</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a><span class="sc">$</span>cor</span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>Europe France  Other    USA </span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a> <span class="fl">0.011</span>  <span class="fl">0.102</span>  <span class="fl">0.036</span> <span class="sc">-</span><span class="fl">0.128</span> </span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a><span class="sc">$</span>cor.perm.pval</span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a>      Europe       France        Other          USA </span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a><span class="fl">3.544689e-01</span> <span class="fl">8.365968e-04</span> <span class="fl">1.534696e-01</span> <span class="fl">1.238784e-05</span> </span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a><span class="sc">$</span>test.values</span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a>   Europe    France     Other       USA </span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a> <span class="fl">0.340764</span>  <span class="fl">3.218873</span>  <span class="fl">1.140324</span> <span class="sc">-</span><span class="fl">4.033595</span> </span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a><span class="sc">$</span>test.values.pval</span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a>      Europe       France        Other          USA </span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a><span class="fl">7.332813e-01</span> <span class="fl">1.286957e-03</span> <span class="fl">2.541511e-01</span> <span class="fl">5.492984e-05</span> </span></code></pre></div>
<p><br>
La fonction <code>ggassoc_boxplot</code> représente la relation entre
les variables sous forme de boîtes à moustaches (<em>box-plots</em>)
et/ou de distributions “en violons”.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggassoc_boxplot.html">ggassoc_boxplot</a></span><span class="op">(</span><span class="va">Movies</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Country</span>, y<span class="op">=</span><span class="va">Critics</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggassoc_boxplot-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="deux-variables-continues">Deux variables continues<a class="anchor" aria-label="anchor" href="#deux-variables-continues"></a>
</h4>
<p>La fonction <code>assoc_twocont</code> calcule les corrélations de
rang de Kendall et de Spearman et la corrélation linéaire de Pearson,
ainsi que les p-values des tests de permutation correspondants.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">assoc.twocont</span>(Movies<span class="sc">$</span>Budget, Movies<span class="sc">$</span>BoxOffice, <span class="at">nperm=</span><span class="dv">10</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>                     pearson  spearman   kendall</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>value              <span class="fl">0.6053018</span> <span class="fl">0.7084613</span> <span class="fl">0.5184719</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>permutation.pvalue <span class="fl">0.0000000</span> <span class="fl">0.0000000</span> <span class="fl">0.0000000</span></span></code></pre></div>
<p><br>
La fonction <code>ggassoc_scatter</code> représente la relation entre
les deux variables sous forme d’un nuage de points, avec une
approximation par lissage (avec la méthode de “Generalized Additive
Model”).</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggassoc_scatter.html">ggassoc_scatter</a></span><span class="op">(</span><span class="va">Movies</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Budget</span>, y<span class="op">=</span><span class="va">BoxOffice</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggassoc_scatter-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="relations-entre-une-variable-y-et-un-ensemble-de-variables-x">Relations entre une variable Y et un ensemble de variables X<a class="anchor" aria-label="anchor" href="#relations-entre-une-variable-y-et-un-ensemble-de-variables-x"></a>
</h2>
<p>Bien souvent, on n’étudie pas seulement deux variables, mais un
ensemble plus important de variables. Lorsqu’une de ces variables a le
statut de variable “à expliquer”, on utilise généralement des modèles de
régression ou, éventuellement, des modèles d’apprentissage surpervisé
(voir la vignette du package <code>moreparty</code> pour un exemple). Il
est cependant indispensable de bien connaître l’ensemble des relations
bivariées du jeu de données avant de passer à une approche “toute chose
égale par ailleurs”.</p>
<p>On notera d’ailleurs que si on fait ce travail de manière minutieuse,
en y ajoutant éventuellement l’analyse descriptive des relations entre
trois ou quatre variables, on s’aperçoit souvent que le surplus de
connaissance apporté par les modèles de régression est assez
limité.<br><br></p>
<p>La fonction <code>assoc.yx</code> calcule l’association globale entre
Y et chacune des variables de X, ainsi que pour toutes les paires de
variables de X.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">assoc.yx</span>(Movies<span class="sc">$</span>BoxOffice, Movies[,<span class="sc">-</span><span class="dv">7</span>], <span class="at">nperm=</span><span class="dv">10</span>)</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="sc">$</span>YX</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>  variable     measure association permutation.pvalue</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="dv">1</span>    Genre        Eta2       <span class="fl">0.173</span>              <span class="fl">0.000</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="dv">2</span> ArtHouse        Eta2       <span class="fl">0.075</span>              <span class="fl">0.000</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="dv">3</span>  Country        Eta2       <span class="fl">0.048</span>              <span class="fl">0.000</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="dv">4</span>   Budget Kendall tau       <span class="fl">0.518</span>              <span class="fl">0.000</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="dv">5</span>  Critics Kendall tau       <span class="fl">0.006</span>              <span class="fl">0.271</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="dv">6</span> Festival        Eta2       <span class="fl">0.000</span>              <span class="fl">0.787</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a><span class="sc">$</span>XX</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a>   variable1 variable2     measure association permutation.pvalue</span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="dv">1</span>      Genre  ArtHouse    Cramer V       <span class="fl">0.554</span>              <span class="fl">0.000</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="dv">2</span>    Country  ArtHouse    Cramer V       <span class="fl">0.469</span>              <span class="fl">0.000</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="dv">3</span>      Genre   Country    Cramer V       <span class="fl">0.275</span>              <span class="fl">0.000</span></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="dv">4</span>   ArtHouse  Festival    Cramer V       <span class="fl">0.229</span>              <span class="fl">0.000</span></span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="dv">5</span>     Budget   Country        Eta2       <span class="fl">0.287</span>              <span class="fl">0.000</span></span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a><span class="dv">6</span>     Budget     Genre        Eta2       <span class="fl">0.281</span>              <span class="fl">0.000</span></span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a><span class="dv">7</span>   ArtHouse   Critics        Eta2       <span class="fl">0.236</span>              <span class="fl">0.000</span></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a><span class="dv">8</span>     Budget  ArtHouse        Eta2       <span class="fl">0.181</span>              <span class="fl">0.000</span></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a><span class="dv">9</span>      Genre   Critics        Eta2       <span class="fl">0.090</span>              <span class="fl">0.000</span></span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a><span class="dv">10</span>  Festival   Critics        Eta2       <span class="fl">0.041</span>              <span class="fl">0.000</span></span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a><span class="dv">11</span>   Country   Critics        Eta2       <span class="fl">0.017</span>              <span class="fl">0.000</span></span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a><span class="dv">12</span>    Budget   Critics Kendall tau      <span class="sc">-</span><span class="fl">0.178</span>              <span class="fl">0.000</span></span>
<span id="cb15-25"><a href="#cb15-25" tabindex="-1"></a><span class="dv">13</span>     Genre  Festival    Cramer V       <span class="fl">0.183</span>              <span class="fl">0.000</span></span>
<span id="cb15-26"><a href="#cb15-26" tabindex="-1"></a><span class="dv">14</span>    Budget  Festival        Eta2       <span class="fl">0.003</span>              <span class="fl">0.260</span></span>
<span id="cb15-27"><a href="#cb15-27" tabindex="-1"></a><span class="dv">15</span>   Country  Festival    Cramer V       <span class="fl">0.035</span>              <span class="fl">0.779</span></span></code></pre></div>
<p><br>
Les fonctions <code>catdesc</code> et <code>condesc</code> permettent de
rentrer plus dans le détail des relations, en passant au niveau des
modalités.</p>
<p><code>catdesc</code> traite les cas où Y est une variable
catégorielle. Pour une variable catégorielle X1, elle calcule, pour une
modalité de Y et une modalité de X1 données :</p>
<ul>
<li>le pourcentage de la modalité de Y dans la modalité de X1</li>
<li>le pourcentage de la modalité de X1 dans la modalité de Y</li>
<li>le pourcentage de la modalité de X1 dans l’ensemble de
l’échantillon</li>
<li>l’association locale (par défaut les coefficients phi)</li>
</ul>
<p>Les résultats sont triés par association locale décroissante et
peuvent être filtrés pour ne conserver que les associations supérieures
à un seuil donné (en valeur absolue).</p>
<p>Pour une variable continue X2, pour une modalité de Y donnée, elle
calcule :</p>
<ul>
<li>la médiane de X2 dans la modalité de Y</li>
<li>la médiane de X2 dans l’ensemble de l’échantillon</li>
<li>la dispersion de X2 dans la modalité de Y</li>
<li>la dispersion de X2 dans l’ensemble de l’échantillon</li>
<li>la corrélation bisériale ponctuelle</li>
</ul>
<p>La dispersion est mesurée par l’<em>écart absolu médian</em> (MAD),
c’est-à-dire la médiane des écarts absolus par rapport à la médiane. La
médiane et le MAD sont des indicateurs dits “robustes”, non sensibles
aux valeurs aberrantes, mais on peut choisir d’utiliser la moyenne et
l’écart-type à la place.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">catdesc</span>(Movies<span class="sc">$</span>Festival, Movies[,<span class="sc">-</span><span class="dv">5</span>], <span class="at">nperm =</span> <span class="dv">10</span>)</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>res<span class="sc">$</span>bylevel<span class="sc">$</span>Yes</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="sc">$</span>categories</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>       categories freq pct.y.in.x pct.x.in.y overall.pct.x    phi  pvalue</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="dv">1</span>    ArtHouse.Yes   <span class="dv">68</span>       <span class="fl">14.0</span>       <span class="fl">88.3</span>          <span class="fl">48.6</span>  <span class="fl">0.229</span> <span class="fl">0.00000</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="dv">2</span>     Genre.Drama   <span class="dv">36</span>       <span class="fl">14.9</span>       <span class="fl">46.8</span>          <span class="fl">24.1</span>  <span class="fl">0.153</span> <span class="fl">0.00000</span></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a><span class="dv">3</span>     Genre.Other    <span class="dv">3</span>       <span class="fl">11.5</span>        <span class="fl">3.9</span>           <span class="fl">2.6</span>  <span class="fl">0.024</span> <span class="fl">0.16640</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="dv">4</span>  Country.Europe    <span class="dv">7</span>        <span class="fl">9.7</span>        <span class="fl">9.1</span>           <span class="fl">7.2</span>  <span class="fl">0.021</span> <span class="fl">0.30388</span></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a><span class="dv">5</span>  Country.France   <span class="dv">49</span>        <span class="fl">8.1</span>       <span class="fl">63.6</span>          <span class="fl">60.5</span>  <span class="fl">0.019</span> <span class="fl">0.24566</span></span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a><span class="dv">6</span>   Genre.ComDram   <span class="dv">13</span>        <span class="fl">8.7</span>       <span class="fl">16.9</span>          <span class="fl">14.9</span>  <span class="fl">0.016</span> <span class="fl">0.29241</span></span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a><span class="dv">7</span>    Genre.Action   <span class="dv">13</span>        <span class="fl">7.9</span>       <span class="fl">16.9</span>          <span class="fl">16.5</span>  <span class="fl">0.003</span> <span class="fl">0.45293</span></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a><span class="dv">8</span>   Country.Other    <span class="dv">2</span>        <span class="fl">7.7</span>        <span class="fl">2.6</span>           <span class="fl">2.6</span>  <span class="fl">0.000</span> <span class="fl">0.19093</span></span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a><span class="dv">9</span>     Genre.SciFi    <span class="dv">3</span>        <span class="fl">6.1</span>        <span class="fl">3.9</span>           <span class="fl">4.9</span> <span class="sc">-</span><span class="fl">0.013</span> <span class="fl">0.27505</span></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a><span class="dv">10</span>    Country.USA   <span class="dv">19</span>        <span class="fl">6.4</span>       <span class="fl">24.7</span>          <span class="fl">29.7</span> <span class="sc">-</span><span class="fl">0.032</span> <span class="fl">0.23120</span></span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a> [ reached <span class="st">'max'</span> <span class="sc">/</span> <span class="fu">getOption</span>(<span class="st">"max.print"</span>) <span class="sc">--</span> omitted <span class="dv">5</span> rows ]</span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" tabindex="-1"></a><span class="sc">$</span>continuous.var</span>
<span id="cb16-18"><a href="#cb16-18" tabindex="-1"></a>  variables median.in.category overall.median mad.in.category overall.mad correlation  pvalue</span>
<span id="cb16-19"><a href="#cb16-19" tabindex="-1"></a><span class="dv">1</span>   Critics                <span class="fl">3.5</span>            <span class="fl">3.0</span>            <span class="fl">0.67</span>         <span class="fl">0.6</span>       <span class="fl">0.204</span> <span class="fl">0.00000</span></span>
<span id="cb16-20"><a href="#cb16-20" tabindex="-1"></a><span class="dv">2</span> BoxOffice           <span class="fl">198796.0</span>       <span class="fl">107326.5</span>       <span class="fl">181590.00</span>    <span class="fl">104060.0</span>       <span class="fl">0.008</span> <span class="fl">0.44497</span></span>
<span id="cb16-21"><a href="#cb16-21" tabindex="-1"></a><span class="dv">3</span>    Budget          <span class="fl">7000000.0</span>      <span class="fl">6127500.0</span>      <span class="fl">4438000.00</span>   <span class="fl">5156921.0</span>      <span class="sc">-</span><span class="fl">0.057</span> <span class="fl">0.19705</span></span></code></pre></div>
<p><br><code>condesc</code> traite les cas où Y est une variable continue. Pour
une variable catégorielle X1, elle calcule :</p>
<ul>
<li>la médiane de Y dans la modalité de X1</li>
<li>la médiane de Y dans l’ensemble de l’échantillon</li>
<li>la dispersion de Y dans la modalité de X1</li>
<li>la dispersion de Y dans l’ensemble de l’échantillon</li>
<li>la corrélation bisériale ponctuelle</li>
</ul>
<p>Les résultats sont triés par corrélations bisériales ponctuelles
décroissantes et peuvent être filtrés pour ne conserver que les
associations supérieures à un seuil donné (en valeur absolue).</p>
<p>Pour les variables continues de X, elle calcule la corrélation (par
défaut le tau de Kendall).</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">condesc</span>(Movies<span class="sc">$</span>BoxOffice, Movies[,<span class="sc">-</span><span class="dv">7</span>], <span class="at">nperm=</span><span class="dv">10</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="sc">$</span>variables</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>  variable     measure association  pvalue</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="dv">1</span>    Genre        Eta2       <span class="fl">0.173</span> <span class="fl">0.00000</span></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="dv">2</span> ArtHouse        Eta2       <span class="fl">0.075</span> <span class="fl">0.00000</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="dv">3</span>  Country        Eta2       <span class="fl">0.048</span> <span class="fl">0.00000</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="dv">4</span>   Budget Kendall tau       <span class="fl">0.518</span> <span class="fl">0.00000</span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a><span class="dv">5</span>  Critics Kendall tau       <span class="fl">0.006</span> <span class="fl">0.51260</span></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="dv">6</span> Festival        Eta2       <span class="fl">0.000</span> <span class="fl">0.73323</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="sc">$</span>categories</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a>        categories median.in.category overall.median mad.in.category overall.mad correlation  pvalue</span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="dv">1</span>      Genre.SciFi           <span class="fl">680900.0</span>       <span class="fl">107326.5</span>        <span class="fl">607448.0</span>      <span class="dv">104060</span>       <span class="fl">0.294</span> <span class="fl">0.00000</span></span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="dv">2</span>      ArtHouse.No           <span class="fl">264200.0</span>       <span class="fl">107326.5</span>        <span class="fl">232183.0</span>      <span class="dv">104060</span>       <span class="fl">0.274</span> <span class="fl">0.00000</span></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a><span class="dv">3</span>  Genre.Animation           <span class="fl">668896.0</span>       <span class="fl">107326.5</span>        <span class="fl">633265.0</span>      <span class="dv">104060</span>       <span class="fl">0.211</span> <span class="fl">0.00000</span></span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a><span class="dv">4</span>      Country.USA           <span class="fl">328559.0</span>       <span class="fl">107326.5</span>        <span class="fl">274892.0</span>      <span class="dv">104060</span>       <span class="fl">0.192</span> <span class="fl">0.00000</span></span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a><span class="dv">5</span>     Genre.Action           <span class="fl">240080.0</span>       <span class="fl">107326.5</span>        <span class="fl">202793.0</span>      <span class="dv">104060</span>       <span class="fl">0.087</span> <span class="fl">0.00123</span></span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a><span class="dv">6</span>   Country.Europe           <span class="fl">108121.5</span>       <span class="fl">107326.5</span>        <span class="fl">104606.5</span>      <span class="dv">104060</span>       <span class="fl">0.068</span> <span class="fl">0.00000</span></span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a><span class="dv">7</span>     Festival.Yes           <span class="fl">198796.0</span>       <span class="fl">107326.5</span>        <span class="fl">181590.0</span>      <span class="dv">104060</span>       <span class="fl">0.008</span> <span class="fl">0.26023</span></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a><span class="dv">8</span>     Genre.Comedy           <span class="fl">202090.0</span>       <span class="fl">107326.5</span>        <span class="fl">191819.0</span>      <span class="dv">104060</span>       <span class="fl">0.004</span> <span class="fl">0.48171</span></span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a><span class="dv">9</span>      Genre.Other           <span class="fl">186084.5</span>       <span class="fl">107326.5</span>        <span class="fl">171739.5</span>      <span class="dv">104060</span>      <span class="sc">-</span><span class="fl">0.005</span> <span class="fl">0.40468</span></span>
<span id="cb17-22"><a href="#cb17-22" tabindex="-1"></a><span class="dv">10</span>     Festival.No           <span class="fl">102726.0</span>       <span class="fl">107326.5</span>         <span class="fl">99642.0</span>      <span class="dv">104060</span>      <span class="sc">-</span><span class="fl">0.008</span> <span class="fl">0.39491</span></span>
<span id="cb17-23"><a href="#cb17-23" tabindex="-1"></a> [ reached <span class="st">'max'</span> <span class="sc">/</span> <span class="fu">getOption</span>(<span class="st">"max.print"</span>) <span class="sc">--</span> omitted <span class="dv">7</span> rows ]</span></code></pre></div>
<p><br>
La fonction <code>darma</code> présente les résultats sous une forme
proche de celle d’un tableau de résultats d’une régression.</p>
<p>Lorsque la variable Y est continue, la fonction calcule :</p>
<ul>
<li>pour les variables de X continues, la corrélation (par défaut le tau
de Kendall) et la p-value du test de permutation correspondant</li>
<li>pour les modalités des variables de X catégorielles, la médiane de Y
dans la modalité, la corrélation bisériale ponctuelle et la p-value du
test de permutation correspondant</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/darma.html">darma</a></span><span class="op">(</span><span class="va">Movies</span><span class="op">$</span><span class="va">BoxOffice</span>, <span class="va">Movies</span><span class="op">[</span>,<span class="op">-</span><span class="fl">7</span><span class="op">]</span>, nperm<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">category</th>
<th align="right">median</th>
<th align="right">association</th>
<th align="right">perm.pvalue</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Budget</td>
<td align="left"></td>
<td align="right">NA</td>
<td align="right">0.518</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">Genre</td>
<td align="left">Action</td>
<td align="right">240080.0</td>
<td align="right">0.087</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Animation</td>
<td align="right">668896.0</td>
<td align="right">0.211</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Other</td>
<td align="right">186084.5</td>
<td align="right">-0.005</td>
<td align="right">0.500</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">ComDram</td>
<td align="right">67341.0</td>
<td align="right">-0.114</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Comedy</td>
<td align="right">202090.0</td>
<td align="right">0.004</td>
<td align="right">0.465</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Documentary</td>
<td align="right">9303.0</td>
<td align="right">-0.108</td>
<td align="right">0.003</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Drama</td>
<td align="right">37160.0</td>
<td align="right">-0.162</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Horror</td>
<td align="right">302635.0</td>
<td align="right">-0.015</td>
<td align="right">0.250</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">SciFi</td>
<td align="right">680900.0</td>
<td align="right">0.294</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Country</td>
<td align="left">Europe</td>
<td align="right">108121.5</td>
<td align="right">0.068</td>
<td align="right">0.014</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">France</td>
<td align="right">57140.0</td>
<td align="right">-0.211</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Other</td>
<td align="right">55643.0</td>
<td align="right">-0.013</td>
<td align="right">0.260</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">USA</td>
<td align="right">328559.0</td>
<td align="right">0.192</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">ArtHouse</td>
<td align="left">No</td>
<td align="right">264200.0</td>
<td align="right">0.274</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Yes</td>
<td align="right">35837.5</td>
<td align="right">-0.274</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Festival</td>
<td align="left">No</td>
<td align="right">102726.0</td>
<td align="right">-0.008</td>
<td align="right">0.370</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Yes</td>
<td align="right">198796.0</td>
<td align="right">0.008</td>
<td align="right">0.390</td>
</tr>
<tr class="odd">
<td align="left">Critics</td>
<td align="left"></td>
<td align="right">NA</td>
<td align="right">0.006</td>
<td align="right">0.323</td>
</tr>
</tbody>
</table>
<p><br>
Lorsque la variable Y est catégorielle, la fonction calcule :</p>
<ul>
<li>pour les variables de X continues, la corrélation bisériale
ponctuelle et la p-value du test de permutation correspondant</li>
<li>pour les modalités des variables de X catégorielles, le pourcentage
de Y dans la modalité, le coefficient phi et la p-value du test de
permutation correspondant.</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/darma.html">darma</a></span><span class="op">(</span><span class="va">Movies</span><span class="op">$</span><span class="va">Festival</span>, <span class="va">Movies</span><span class="op">[</span>,<span class="op">-</span><span class="fl">5</span><span class="op">]</span>, target<span class="op">=</span><span class="fl">2</span>, nperm<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">category</th>
<th align="right">percent</th>
<th align="right">association</th>
<th align="right">perm.pvalue</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Budget</td>
<td align="left"></td>
<td align="right">NA</td>
<td align="right">-0.057</td>
<td align="right">0.039</td>
</tr>
<tr class="even">
<td align="left">Genre</td>
<td align="left">Action</td>
<td align="right">7.9</td>
<td align="right">0.003</td>
<td align="right">0.444</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Animation</td>
<td align="right">2.2</td>
<td align="right">-0.046</td>
<td align="right">0.076</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Other</td>
<td align="right">11.5</td>
<td align="right">0.024</td>
<td align="right">0.180</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">ComDram</td>
<td align="right">8.7</td>
<td align="right">0.016</td>
<td align="right">0.340</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Comedy</td>
<td align="right">2.7</td>
<td align="right">-0.100</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Documentary</td>
<td align="right">2.6</td>
<td align="right">-0.055</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Drama</td>
<td align="right">14.9</td>
<td align="right">0.153</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Horror</td>
<td align="right">0.0</td>
<td align="right">-0.046</td>
<td align="right">0.019</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">SciFi</td>
<td align="right">6.1</td>
<td align="right">-0.013</td>
<td align="right">0.215</td>
</tr>
<tr class="odd">
<td align="left">Country</td>
<td align="left">Europe</td>
<td align="right">9.7</td>
<td align="right">0.021</td>
<td align="right">0.251</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">France</td>
<td align="right">8.1</td>
<td align="right">0.019</td>
<td align="right">0.314</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Other</td>
<td align="right">7.7</td>
<td align="right">0.000</td>
<td align="right">0.610</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">USA</td>
<td align="right">6.4</td>
<td align="right">-0.032</td>
<td align="right">0.127</td>
</tr>
<tr class="odd">
<td align="left">ArtHouse</td>
<td align="left">No</td>
<td align="right">1.8</td>
<td align="right">-0.229</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Yes</td>
<td align="right">14.0</td>
<td align="right">0.229</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Critics</td>
<td align="left"></td>
<td align="right">NA</td>
<td align="right">0.204</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">BoxOffice</td>
<td align="left"></td>
<td align="right">NA</td>
<td align="right">0.008</td>
<td align="right">0.672</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="relations-entre-toutes-les-variables-dun-ensemble">Relations entre toutes les variables d’un ensemble<a class="anchor" aria-label="anchor" href="#relations-entre-toutes-les-variables-dun-ensemble"></a>
</h2>
<p>Pour finir, les fonctions <code>ggassoc_*</code> sont prévues pour
pouvoir s’intégrer dans les matrices de graphiques du package <a href="https://ggobi.github.io/ggally/" class="external-link"><code>GGally</code></a>. Il est
donc possible de les utiliser pour représenter dans un seul graphique
l’ensemble des relations bivariées d’un groupe de variables.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggobi.github.io/ggally/" class="external-link">GGally</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggobi.github.io/ggally/reference/ggpairs.html" class="external-link">ggpairs</a></span><span class="op">(</span><span class="va">Movies</span>,</span>
<span>        lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>continuous <span class="op">=</span> <span class="va">ggassoc_scatter</span>,</span>
<span>                     combo <span class="op">=</span> <span class="va">ggassoc_boxplot</span>,</span>
<span>                     discrete <span class="op">=</span> <span class="fu"><a href="https://ggobi.github.io/ggally/reference/wrap.html" class="external-link">wrap</a></span><span class="op">(</span><span class="va">ggassoc_crosstab</span>, max.size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>continuous <span class="op">=</span> <span class="va">ggassoc_scatter</span>,</span>
<span>                     combo <span class="op">=</span> <span class="va">ggassoc_boxplot</span>,</span>
<span>                     discrete <span class="op">=</span> <span class="fu"><a href="https://ggobi.github.io/ggally/reference/wrap.html" class="external-link">wrap</a></span><span class="op">(</span><span class="va">ggassoc_crosstab</span>, max.size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        diag <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>continuous <span class="op">=</span> <span class="fu"><a href="https://ggobi.github.io/ggally/reference/wrap.html" class="external-link">wrap</a></span><span class="op">(</span><span class="st">"diagAxis"</span>, gridLabelSize <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>                    discrete <span class="op">=</span> <span class="fu"><a href="https://ggobi.github.io/ggally/reference/wrap.html" class="external-link">wrap</a></span><span class="op">(</span><span class="st">"diagAxis"</span>, gridLabelSize <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="Article_fr_files/figure-html/ggally-1.png" width="700"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/nicolas-robette" class="external-link">Nicolas Robette</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
